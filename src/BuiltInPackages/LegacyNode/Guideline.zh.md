# LegacyNode 节点库设计准则
## 概述
LegacyNode节点库是传统wx编辑器至LuaSTGEditorSharp中必要节点的LuaSTGEditorSharpV2实现。

### 0. 纯净准则
维持LegacyNode节点库的纯净性，即只依赖核心模块与Lua节点库。非LuaSTG引擎相关内容不得进入核心模块与Lua节点库。不依赖LuaSTG引擎相关内容的部分按需进入核心模块与Lua节点库。

### 1. 兼容性准则
节点库定义应至少形式上与LuaSTGEditorSharp中的节点定义接近。节点库定义的形式被判定为在编辑界面中的属性定义，与工程中节点的树形结构。

节点库应保证LuaSTGEditorSharp中的节点经过命令行工具的sharpconv指令后可以经过尽可能少的更改直接运行。

对于无法实现的功能，需要向LegacyNode节点库设计委员会请示是否需要向核心模块添加功能。若需要添加则待添加后完成；若此功能被否决，则应尽量实现转换工具使LuaSTGEditorSharp的节点定义与之兼容。

### 2. 完备性准则
兼容性准则中未定义的部分适用完备准则。

节点库定义应保持对扩展的开放。
例：属性A定义一段代码中嵌入的字符串，应当提供形如`call({1})`的版本，而非`call("{1}")`的版本。

### 3. 优化准则
节点库定义应尽量以用户体验为原则进行优化。对于复杂的功能尽量优先提供一个简单版本。对于频繁使用的功能尽量优先提供频繁使用的版本。